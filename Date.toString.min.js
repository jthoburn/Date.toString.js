/*! Authored by James Thoburn http://jthoburn.com, http://runspired.com, https://github.com/jthoburn/Date.toString.js Licensed CC0 (portions MIT see repo) but attribution or love welcomed.*/
Date.prototype.cachedToString=Date.prototype.toString;
Date.prototype.toString=function(f){function e(a,c){a=a.toString();return a.length<c?e("0"+a,c):a}function j(a,b){return c[a]?c[a]():b}if(!f||"string"!=typeof f)return this.cachedToString();var k=/\\?([a-z])/gi,b=this,m="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),n="January February March April May June July August September October November December".split(" "),d=new Date(2010,6,15,1,0,0,0),p={"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,
3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"America/Asuncion":new Date(2012,9,7,3,0,0,0),"America/Santiago":new Date(2012,9,3,3,0,0,0),"America/Campo_Grande":new Date(2012,9,21,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2012,2,10,2,0,0,0),"America/New_York":new Date(2012,
2,10,7,0,0,0),"Asia/Beirut":new Date(2011,2,27,1,0,0,0),"Europe/Helsinki":new Date(2011,2,27,4,0,0,0),"Europe/Istanbul":new Date(2011,2,28,5,0,0,0),"Asia/Damascus":new Date(2011,3,1,2,0,0,0),"Asia/Jerusalem":new Date(2011,3,1,6,0,0,0),"Asia/Gaza":new Date(2009,2,28,0,30,0,0),"Africa/Cairo":new Date(2009,3,25,0,30,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"Pacific/Fiji":new Date(2010,11,29,23,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,
0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0),"Europe/Moscow":d,"Asia/Yekaterinburg":d,"Asia/Omsk":d,"Asia/Krasnoyarsk":d,"Asia/Irkutsk":d,"Asia/Yakutsk":d,"Asia/Vladivostok":d,"Asia/Kamchatka":d,"Europe/Minsk":d,"Australia/Perth":new Date(2008,10,1,1,0,0,0)},q={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage",
"-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Santiago","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"Etc/GMT+2",
"-120,1":"Etc/GMT+2","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"Etc/UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk",
"390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa",
"765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},l={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Santiago":["America/Santiago","America/Asuncion","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":"Asia/Beirut Europe/Helsinki Europe/Istanbul Asia/Damascus Asia/Jerusalem Asia/Gaza".split(" "),"Pacific/Auckland":["Pacific/Auckland",
"Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"],"Asia/Dubai":["Europe/Moscow"],"Asia/Dhaka":["Asia/Yekaterinburg"],"Asia/Jakarta":["Asia/Omsk"],"Asia/Shanghai":["Asia/Krasnoyarsk","Australia/Perth"],"Asia/Tokyo":["Asia/Irkutsk"],"Australia/Brisbane":["Asia/Yakutsk"],"Pacific/Noumea":["Asia/Vladivostok"],
"Pacific/Tarawa":["Asia/Kamchatka"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"],"Asia/Baghdad":["Europe/Minsk"]},c={d:function(){return e(c.j(),2)},D:function(){return c.l().slice(0,3)},j:function(){return b.getDate()},l:function(){return m[c.w()]},N:function(){return c.w()||7},S:function(){var a=c.j();return 4>a|20<a&&(["st","nd","rd"][a%10-1]||"th")},w:function(){return b.getDay()},z:function(){var a=new Date(c.Y(),0,1);return Math.round((b-a)/864E5)},W:function(){var a=new Date(c.Y(),c.n()-
1,c.j()-c.N()+3);return e(1+Math.round((a-new Date(a.getFullYear(),0,4))/864E5/7),2)},F:function(){return n[b.getMonth()]},m:function(){var a=String(b.getMonth()+1);return 1==a.length?"0"+a:a},M:function(){return c.F().slice(0,3)},n:function(){return b.getMonth()+1},t:function(){return(new Date(c.Y(),c.n(),0)).getDate()},L:function(){return 28==(new Date(c.Y(),2,0)).getDate()?0:1},o:function(){var a=c.n(),b=c.W();return c.Y()+(12===a&&9>b?1:1===a&&9<b?-1:0)},Y:function(){return b.getFullYear()},y:function(){return c.Y()%
1E3%100},a:function(){return 43200<3600*b.getHours()+60*b.getMinutes()+b.getSeconds()?"pm":"am"},A:function(){return 43200<3600*b.getHours()+60*b.getMinutes()+b.getSeconds()?"PM":"AM"},B:function(){var a=Math.floor((3600*b.getHours()+60*b.getMinutes()+b.getSeconds()+60*(b.getTimezoneOffset()+60))/86.4);1E3<a&&(a-=1E3);0>a&&(a+=1E3);return a},g:function(){return c.G()%12||12},G:function(){return b.getHours()},h:function(){return e(c.g(),2)},H:function(){return e(c.G(),2)},i:function(){return b.getMinutes()},
s:function(){return b.getSeconds()},u:function(){return e(1E3*b.getMilliseconds(),6)},e:function(){function a(a){a=-a.getTimezoneOffset();return null!==a?a:0}var b=c.Y(),d=a(new Date(b,0,2)),b=a(new Date(b,6,2)),d=c.I()?d<b?d+",1":b+",1,s":d,d=q[d];if("undefined"!==l[d])for(var b=l[d],e=b.length,g=0,f=b[0];g<e;g+=1){var f=b[g],h=p[f];if(0!==(7<h.getMonth()?a(new Date(h.getFullYear(),6,2)):a(new Date(h.getFullYear(),0,2)))-a(h))return f}return d},I:function(){var a=c.Y();return new Date(a,0)-Date.UTC(a,
0)!==new Date(a,6)-Date.UTC(a,6)?1:0},O:function(){var a=b.getTimezoneOffset(),c=Math.abs(a);return(0<a?"-":"+")+e(100*Math.floor(c/60)+c%60,4)},P:function(){var a=c.O();return a.substr(0,3)+":"+a.substr(3,2)},T:function(){var a=b.cachedToString();return a.substr(a.indexOf("(")+1,a.indexOf(")")-a.indexOf("(")-1)},Z:function(){return 60*-b.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(k,j)},r:function(){return"D, d M Y H:i:s O".replace(k,j)},U:function(){return b.getTime()/1E3|0}};
return f.replace(k,j)};
